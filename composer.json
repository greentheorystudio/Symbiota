{
  "name": "greentheorystudio/symbiota",
  "description": "Symbiota biodiversity data management system.",
  "license": "proprietary",
  "require": {
    "phpoffice/phpword": "^0.17.0",
    "ext-curl": "*",
    "ext-gd": "*",
    "ext-iconv": "*",
    "ext-json": "*",
    "ext-mysqli": "*",
    "ext-mbstring": "*",
    "ext-openssl": "*",
    "ext-simplexml": "*",
    "ext-zip": "*"
  },
  "require-dev": {
    "roave/security-advisories": "dev-master"
  },
  "scripts": {
    "pre-update-cmd": [
      "@php -r \"file_exists('docker-compose.yml') || copy('docker-compose.yml.dist', 'docker-compose.yml');\"",
      "@php -r \"file_exists('footer.php') || copy('footer_template.php', 'footer.php');\"",
      "@php -r \"file_exists('header.php') || copy('header_template.php', 'header.php');\"",
      "@php -r \"file_exists('index.php') || copy('index_template.php', 'index.php');\"",
      "@php -r \"file_exists('robots.txt') || copy('robots_template.txt', 'robots.txt');\"",
      "@php -r \"file_exists('./css/main.css') || copy('./css/main_template.css', './css/main.css');\"",
      "@php -r \"file_exists('./misc/usagepolicy.php') || copy('./misc/usagepolicy_template.php', './misc/usagepolicy.php');\"",
      "@php -r \"file_exists('./webservices/dwc/rss.xml') || copy('./webservices/dwc/rss.xml.dist', './webservices/dwc/rss.xml');\"",
      "mkdir ./content",
      "mkdir ./content/collicon",
      "mkdir ./content/css",
      "mkdir ./content/dwca",
      "mkdir ./content/geolocate",
      "mkdir ./content/imglib",
      "mkdir ./content/logs",
      "mkdir ./temp",
      "mkdir ./temp/data",
      "mkdir ./temp/data/fieldguide",
      "mkdir ./temp/data/geolocate",
      "mkdir ./temp/downloads",
      "mkdir ./temp/images",
      "mkdir ./temp/ootd",
      "mkdir ./temp/report",
      "mkdir ./temp/slideshow",
      "mkdir ./temp/symbocr"

    ],
    "post-update-cmd": [
      "chmod -R 777 ./collections/datasets/dwc",
      "chmod -R 777 ./content/collicon",
      "chmod -R 777 ./content/css",
      "chmod -R 777 ./content/dwca",
      "chmod -R 777 ./content/geolocate",
      "chmod -R 777 ./content/imglib",
      "chmod -R 777 ./content/logs",
      "chmod -R 777 ./temp/data",
      "chmod -R 777 ./temp/downloads",
      "chmod -R 777 ./temp/images",
      "chmod -R 777 ./temp/ootd",
      "chmod -R 777 ./temp/report",
      "chmod -R 777 ./temp/slideshow",
      "chmod -R 777 ./temp/symbocr",
      "chmod -R 777 ./webservices/dwc/rss.xml"
    ],
    "update-docker-solr-config": [
      "docker-compose down",
      "@php -r \"copy('./docker/solr/data-config.xml', './data/solr/symbiota/conf/data-config.xml');\"",
      "@php -r \"copy('./docker/solr/schema.xml', './data/solr/symbiota/conf/schema.xml');\"",
      "@php -r \"copy('./docker/solr/solrconfig.xml', './data/solr/symbiota/conf/solrconfig.xml');\"",
      "rm ./data/solr/symbiota/conf/managed-schema",
      "docker-compose up -d"
    ]
  }
}
